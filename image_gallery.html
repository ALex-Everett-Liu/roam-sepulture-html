<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image Gallery</title>
    <style>
        :root {
            --primary-color: #2a4b8d;
            --secondary-color: #4a5568;
            --accent-color: #3182ce;
            --bg-color: #f5f5f5;
            --card-bg: #ffffff;
            --text-color: #2d3748;
            --border-color: #e2e8f0;
            --tag-bg: #e2e8f0;
            --tag-hover: #cbd5e0;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 20px;
            background: var(--bg-color);
            color: var(--text-color);
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: var(--card-bg);
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        h1 {
            color: var(--primary-color);
            text-align: center;
            margin-bottom: 30px;
        }
        
        .controls {
            display: flex;
            gap: 20px;
            margin-bottom: 30px;
            flex-wrap: wrap;
            align-items: center;
        }
        
        .sort-controls, .filter-controls {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .sort-controls select, .filter-controls input {
            padding: 8px 12px;
            border: 1px solid var(--border-color);
            border-radius: 6px;
            font-size: 14px;
        }
        
        .tag-cloud {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin: 15px 0;
        }
        
        .tag {
            background: var(--tag-bg);
            color: var(--text-color);
            padding: 4px 10px;
            border-radius: 15px;
            font-size: 0.8rem;
            cursor: pointer;
            transition: all 0.3s;
            border: none;
        }
        
        .tag:hover {
            background: var(--tag-hover);
            transform: translateY(-1px);
        }
        
        .tag.active {
            background: var(--accent-color);
            color: white;
        }
        
        .gallery {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }
        
        .gallery-item {
            position: relative;
            overflow: hidden;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
            cursor: pointer;
            background: white;
        }
        
        .gallery-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }
        
        .gallery-item img {
            width: 100%;
            height: 200px;
            object-fit: cover;
            display: block;
        }
        
        .gallery-item .placeholder {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 18px;
            font-weight: bold;
            height: 200px;
        }
        
        .gallery-item .caption {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(transparent, rgba(0,0,0,0.7));
            color: white;
            padding: 15px;
            font-size: 14px;
        }
        
        .gallery-item .ranking {
            position: absolute;
            top: 10px;
            right: 10px;
            background: rgba(0,0,0,0.7);
            color: white;
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 12px;
            font-weight: bold;
        }
        
        .gallery-item .image-tags {
            margin-top: 10px;
            display: flex;
            flex-wrap: wrap;
            gap: 4px;
        }
        
        .image-tag {
            background: var(--tag-bg);
            color: var(--text-color);
            padding: 2px 6px;
            border-radius: 10px;
            font-size: 0.7rem;
        }
        
        .back-link {
            display: inline-block;
            margin-bottom: 20px;
            color: var(--accent-color);
            text-decoration: none;
            font-weight: bold;
        }
        
        .back-link:hover {
            text-decoration: underline;
        }
        
        .clear-filters {
            background: none;
            border: 1px solid var(--border-color);
            color: var(--text-color);
            padding: 5px 12px;
            border-radius: 15px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.3s;
        }
        
        .clear-filters:hover {
            border-color: var(--accent-color);
            color: var(--accent-color);
        }
        
        @media (max-width: 768px) {
            .gallery {
                grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
                gap: 15px;
            }
            
            .controls {
                flex-direction: column;
                align-items: stretch;
            }
        }
        
        @media (max-width: 480px) {
            .gallery {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <a href="index.html" class="back-link">← Back to Index</a>
        <h1>Image Gallery</h1>
        <p>Browse through various images and photos. Sort by ranking and filter by tags to find exactly what you're looking for.</p>
        
        <div class="controls">
            <div class="sort-controls">
                <label for="sort-select">Sort by:</label>
                <select id="sort-select">
                    <option value="ranking-asc">Ranking (Low to High)</option>
                    <option value="ranking-desc">Ranking (High to Low)</option>
                    <option value="name-asc">Name (A to Z)</option>
                    <option value="name-desc">Name (Z to A)</option>
                </select>
            </div>
            
            <div class="filter-controls">
                <label>Filter by tags:</label>
                <input type="text" id="tag-search" placeholder="Search tags...">
                <button class="clear-filters" onclick="clearAllFilters()">Clear Filters</button>
            </div>
        </div>
        
        <div class="tag-cloud" id="tag-cloud"></div>
        
        <div class="gallery" id="gallery">
            <!-- Images will be populated by JavaScript -->
        </div>
        
        <div style="margin-top: 40px; padding: 20px; background: #f8f9fa; border-radius: 8px;">
            <h3>How to add your images:</h3>
            <p>1. Update the image data in the JavaScript below</p>
            <p>2. Replace placeholder images with actual &lt;img&gt; tags</p>
            <p>3. Add ranking values (e.g., 8.5, 9.25, 7.8)</p>
            <p>4. Add relevant tags for filtering</p>
            <p>Example: Add your image data to the images array below</p>
        </div>
    </div>

    <script>
        // Image database with ranking and tags
        const images = [
            {
                id: 1,
                title: "Sunset Landscape",
                description: "Beautiful sunset over mountains",
                src: null, // Replace with actual image path
                ranking: 9.25,
                tags: ["landscape", "sunset", "nature", "mountains"]
            },
            {
                id: 2,
                title: "City Skyline",
                description: "Modern city skyline at night",
                src: null,
                ranking: 8.75,
                tags: ["city", "urban", "night", "skyline"]
            },
            {
                id: 3,
                title: "Ocean Waves",
                description: "Peaceful ocean waves at dawn",
                src: null,
                ranking: 7.8,
                tags: ["ocean", "water", "dawn", "peaceful"]
            },
            {
                id: 4,
                title: "Forest Path",
                description: "Serene forest path in autumn",
                src: null,
                ranking: 8.9,
                tags: ["forest", "nature", "autumn", "trees"]
            },
            {
                id: 5,
                title: "Desert Dunes",
                description: "Golden sand dunes at sunset",
                src: null,
                ranking: 9.0,
                tags: ["desert", "sand", "sunset", "golden"]
            },
            {
                id: 6,
                title: "Mountain Peak",
                description: "Snow-capped mountain peak",
                src: null,
                ranking: 9.5,
                tags: ["mountain", "snow", "peak", "winter"]
            },
            {
                id: 7,
                title: "Urban Street",
                description: "Busy street in downtown",
                src: null,
                ranking: 7.2,
                tags: ["urban", "street", "city", "busy"]
            },
            {
                id: 8,
                title: "Lake Reflection",
                description: "Crystal clear lake with mountain reflection",
                src: null,
                ranking: 8.6,
                tags: ["lake", "reflection", "mountain", "clear"]
            },
            {
                id: 9,
                title: "Flower Garden",
                description: "Colorful flower garden in spring",
                src: null,
                ranking: 8.3,
                tags: ["flowers", "garden", "spring", "colorful"]
            },
            {
                id: 10,
                title: "Thunderstorm",
                description: "Dramatic thunderstorm with lightning",
                src: null,
                ranking: 9.8,
                tags: ["storm", "lightning", "dramatic", "weather"]
            },
            {
                id: 11,
                title: "Beach Sunrise",
                description: "Golden sunrise over calm beach",
                src: null,
                ranking: 8.9,
                tags: ["beach", "sunrise", "golden", "calm"]
            },
            {
                id: 12,
                title: "Wildlife",
                description: "Wild deer in natural habitat",
                src: null,
                ranking: 9.1,
                tags: ["wildlife", "deer", "nature", "animals"]
            }
        ];

        // Global variables
        let filteredImages = [...images];
        let currentSort = 'ranking-desc';
        let selectedTags = [];
        let tagSearchQuery = '';

        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            renderTagCloud();
            renderGallery();
            setupEventListeners();
        });

        // Setup event listeners
        function setupEventListeners() {
            document.getElementById('sort-select').addEventListener('change', handleSort);
            document.getElementById('tag-search').addEventListener('input', handleTagSearch);
        }

        // Render tag cloud
        function renderTagCloud() {
            const tagCloud = document.getElementById('tag-cloud');
            const allTags = [...new Set(images.flatMap(img => img.tags))].sort();
            
            tagCloud.innerHTML = '';
            allTags.forEach(tag => {
                const tagElement = document.createElement('button');
                tagElement.className = 'tag';
                tagElement.textContent = tag;
                tagElement.onclick = () => toggleTag(tag, tagElement);
                tagCloud.appendChild(tagElement);
            });
        }

        // Toggle tag selection
        function toggleTag(tag, element) {
            const index = selectedTags.indexOf(tag);
            if (index > -1) {
                selectedTags.splice(index, 1);
                element.classList.remove('active');
            } else {
                selectedTags.push(tag);
                element.classList.add('active');
            }
            filterAndRender();
        }

        // Handle sort change
        function handleSort(event) {
            currentSort = event.target.value;
            filterAndRender();
        }

        // Handle tag search
        function handleTagSearch(event) {
            tagSearchQuery = event.target.value.toLowerCase();
            const tags = document.querySelectorAll('.tag');
            
            tags.forEach(tag => {
                if (tag.textContent.toLowerCase().includes(tagSearchQuery)) {
                    tag.style.display = 'inline-block';
                } else {
                    tag.style.display = 'none';
                }
            });
        }

        // Filter and sort images
        function filterAndSortImages() {
            // Filter by tags
            filteredImages = images.filter(img => {
                if (selectedTags.length === 0) return true;
                return selectedTags.every(tag => img.tags.includes(tag));
            });

            // Sort images
            filteredImages.sort((a, b) => {
                switch (currentSort) {
                    case 'ranking-asc':
                        return a.ranking - b.ranking;
                    case 'ranking-desc':
                        return b.ranking - a.ranking;
                    case 'name-asc':
                        return a.title.localeCompare(b.title);
                    case 'name-desc':
                        return b.title.localeCompare(a.title);
                    default:
                        return 0;
                }
            });
        }

        // Render gallery
        function renderGallery() {
            const gallery = document.getElementById('gallery');
            gallery.innerHTML = '';

            if (filteredImages.length === 0) {
                gallery.innerHTML = `
                    <div style="grid-column: 1/-1; text-align: center; padding: 40px; color: var(--secondary-color);">
                        <h3>No images found</h3>
                        <p>Try adjusting your filters or search criteria.</p>
                    </div>
                `;
                return;
            }

            filteredImages.forEach(img => {
                const item = document.createElement('div');
                item.className = 'gallery-item';
                
                item.innerHTML = `
                    ${img.src ? `<img src="${img.src}" alt="${img.title}">` : `<div class="placeholder">${img.title}</div>`}
                    <div class="ranking">⭐ ${img.ranking}</div>
                    <div class="caption">
                        ${img.title}
                        <div>${img.description}</div>
                        <div class="image-tags">
                            ${img.tags.map(tag => `<span class="image-tag">${tag}</span>`).join('')}
                        </div>
                    </div>
                `;
                
                gallery.appendChild(item);
            });
        }

        // Clear all filters
        function clearAllFilters() {
            selectedTags = [];
            tagSearchQuery = '';
            document.getElementById('tag-search').value = '';
            document.getElementById('sort-select').value = 'ranking-desc';
            
            document.querySelectorAll('.tag').forEach(tag => {
                tag.classList.remove('active');
                tag.style.display = 'inline-block';
            });
            
            filterAndRender();
        }

        // Filter and render
        function filterAndRender() {
            filterAndSortImages();
            renderGallery();
        }
    </script>
</body>
</html>